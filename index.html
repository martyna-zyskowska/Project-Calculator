<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Calculator</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <header>Simple calculator</header>
        <main>
            <form name="calculator">
                <table>
                    <tr>
                        <td>
                            <input type="text" name="result" id="result" placeholder="0" readonly>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type = "button" onclick="cle(value)" value="">C</button>
                            <button type = "button" onclick="oper(value)" value="%">%</button>
                            <button type = "button" onclick="oper(value)" value="/">/</button>
                            <button type = "button" onclick="oper(value)" value="*">x</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type = "button" onclick="number(value)" value="7">7</button>
                            <button type = "button" onclick="number(value)" value="8">8</button>
                            <button type = "button" onclick="number(value)" value="9">9</button>
                            <button type = "button" onclick="oper(value)" value="-">-</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type = "button" onclick="number(value)" value="4">4</button>
                            <button type = "button" onclick="number(value)" value="5">5</button>
                            <button type = "button" onclick="number(value)" value="6">6</button>
                            <button type = "button" onclick="oper(value)" value="+">+</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type = "button" onclick="number(value)" value="1">1</button>
                            <button type = "button" onclick="number(value)" value="2">2</button>
                            <button type = "button" onclick="number(value)" value="3">3</button>
                            <button type = "button" onclick="wynik()">=</button>
                        </td> 
                    </tr>
                    <tr>
                        <td id="zeroSign">
                            <button type = "button" onclick="number(value)" value="0" id="zeroSign">0</button>
                            <button type = "button" onclick="coma(value)" value=".">.</button>
                        </td>
                    </tr>

                </table>
            </form>
        </main>

        <script>

            function number(value) {
                document.getElementById("result").value += value;
            }

            function oper(value) {
                var result = document.getElementById("result");
                if (result.value.length !== 0) {
                    var lastChar = result.value.slice(result.value.length-1);
                    var regularExpression = /[0-9]/;
                    var re = /^(\+|-|\*|\/|=|>|<|>=|<=|&|\||%|!|\^|\(|\))$/;
                    if (lastChar.match(regularExpression) !== null) {
                        result.value += value;
                    }
                    else if (lastChar.match(re) !== null) {
                        document.getElementById("result").value = document.getElementById("result").value.slice(0, -1) + value;
                    }
                }
            }

            function coma(value) {
                if (document.getElementById("result").value.length !== 0) {
                    var regularExpression = /[0-9]/;
                    if (result.value.slice(result.value.length-1).match(regularExpression) !== null) {
                            document.getElementById("result").value += value; 
                    }
                }
            }

            function wynik() {
                if (document.getElementById("result").value.length !== 0) {
                document.getElementById("result").value = eval(document.getElementById("result").value);
                }
            }

            function cle() {
                document.getElementById("result").value = "";
            }

        </script>

    </body>
</html>